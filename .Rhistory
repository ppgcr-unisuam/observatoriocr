)
title(main = "Docentes com Financiamento", outer = TRUE, cex.main = 1.7)
summ.table.financiadores <- matrix(0, nrow = 1, ncol = 4)
colnames(summ.table.financiadores) <- c("Projetos Financiados", "Média por Projeto", "Menor Projeto", "Maior Projeto")
summ.table.financiadores <- c(nrow(financiadores$Total), mean(financiadores$Total, na.rm = TRUE), min(financiadores$Total, na.rm = TRUE), max(financiadores$Total, na.rm = TRUE))
summ.table.financiadores
summ.table.financiadores <- matrix(0, nrow = 1, ncol = 4)
colnames(summ.table.financiadores) <- rbind("Projetos Financiados", "Média por Projeto", "Menor Projeto", "Maior Projeto")
summ.table.financiadores <- rbond(nrow(financiadores$Total), mean(financiadores$Total, na.rm = TRUE), min(financiadores$Total, na.rm = TRUE), max(financiadores$Total, na.rm = TRUE))
summ.table.financiadores <- rbind(nrow(financiadores$Total), mean(financiadores$Total, na.rm = TRUE), min(financiadores$Total, na.rm = TRUE), max(financiadores$Total, na.rm = TRUE))
summ.table.financiadores
summ.table.financiadores <- matrix(0, nrow = 1, ncol = 4)
colnames(summ.table.financiadores) <- cbind("Projetos Financiados", "Média por Projeto", "Menor Projeto", "Maior Projeto")
summ.table.financiadores <- cbind(nrow(financiadores$Total), mean(financiadores$Total, na.rm = TRUE), min(financiadores$Total, na.rm = TRUE), max(financiadores$Total, na.rm = TRUE))
summ.table.financiadores
summ.table.financiadores <- cbind(length(financiadores$Total), mean(financiadores$Total, na.rm = TRUE), min(financiadores$Total, na.rm = TRUE), max(financiadores$Total, na.rm = TRUE))
summ.table.financiadores
dim(financiadores)
dim(financiadores.raw)
options(knitr.kable.NA = '--', knitr.table.format = "html")
financiadores.raw <-
read_excel("../PPGCR Unisuam/financiadores.xlsx", sheet = "financiadores")
# select variables to display
financiadores <-
financiadores.raw %>% select("Ano", "Agência", "Programa", "Total", "Proponente")
# drop rows with empty cells
financiadores <- financiadores[complete.cases(financiadores), ]
# generate cross-table
N.editais.agencia.ano <- table(financiadores$'Agência', financiadores$'Ano')
N.editais.agencia.ano <-
N.editais.agencia.ano[, order(colnames(N.editais.agencia.ano), decreasing = FALSE)]
# get all 'agencias'
agencias <-
na.exclude(rownames(N.editais.agencia.ano))
# plot area setup
par(
oma = c(2, 0.1, 2, 0.1),
mar = c(5, 4, 2, 2),
bg = '#2C3E50',
col.lab = "white",
col.axis = "white",
fg = "white",
col.main = "white"
)
# generate plot of financiadores per agency by year (absolute frequency)
barplot(N.editais.agencia.ano,
ylab = "N",
col = brewer.pal(n = length(agencias), name = "Set3"))
title(main = "Editais Financiados por Agência", outer = TRUE, cex.main = 1.7)
legend(
"topright",
legend = agencias,
fill = brewer.pal(n = length(agencias), name = "Set3"),
text.col = "white",
box.lwd = 0,
bty = "n",
horiz = FALSE,
cex = 0.5,
)
# generate cross-table
T.editais.agencia.ano <- with(financiadores, tapply(financiadores$Total, list(financiadores$'Agência', financiadores$'Ano'), FUN= sum))
# add zero to not available values
T.editais.agencia.ano[is.na(T.editais.agencia.ano)] <- 0
T.editais.agencia.ano <-
T.editais.agencia.ano[, order(colnames(T.editais.agencia.ano), decreasing = FALSE)]
# em milhares
T.editais.agencia.ano <- T.editais.agencia.ano/1000
# get all 'agencias'
agencias <-
na.exclude(rownames(T.editais.agencia.ano))
# plot area setup
par(
oma = c(2, 0.1, 2, 0.1),
mar = c(5, 4, 2, 2),
bg = '#2C3E50',
col.lab = "white",
col.axis = "white",
fg = "white",
col.main = "white"
)
# generate plot of financiadores per agency by year (absolute frequency)
barplot(T.editais.agencia.ano,
ylab = "R$, em milhares",
col = brewer.pal(n = length(agencias), name = "Set3"))
title(main = "Valores Financiados por Agência", outer = TRUE, cex.main = 1.7)
legend(
"topright",
legend = agencias,
fill = brewer.pal(n = length(agencias), name = "Set3"),
text.col = "white",
box.lwd = 0,
bty = "n",
horiz = FALSE,
cex = 0.5,
)
# generate cross-table
professores.ano <-
rowSums(table(financiadores$Ano, financiadores$Proponente) != 0)
# plot area setup
par(
oma = c(2, 0.1, 2, 0.1),
mar = c(5, 4, 2, 2),
bg = '#2C3E50',
col.lab = "white",
col.axis = "white",
fg = "white",
col.main = "white"
)
# generate plot of financiadores per agency by year (absolute frequency)
barplot(professores.ano,
ylab = "N",
col = rep(brewer.pal(n = 9, name = "Set3")[1], length(professores.ano))
)
title(main = "Docentes com Financiamento", outer = TRUE, cex.main = 1.7)
summ.table.financiadores <- matrix(0, nrow = 1, ncol = 4)
colnames(summ.table.financiadores) <- cbind("Projetos Financiados", "Média por Projeto", "Menor Projeto", "Maior Projeto")
summ.table.financiadores <- cbind(length(financiadores$Total), mean(financiadores$Total, na.rm = TRUE), min(financiadores$Total, na.rm = TRUE), max(financiadores$Total, na.rm = TRUE))
summ.table.financiadores
summ.table.financiadores[1]
as.character(summ.table.financiadores[1])
# plot area setup
par(oma = c(0, 0, 0, 0),
mar = c(0, 0, 0, 0),
bg = '#2C3E50')
p1 <-
plot(
c(0, 1),
c(0, 1),
ann = F,
bty = 'n',
type = 'n',
xaxt = 'n',
yaxt = 'n'
) %>%
text(
x = 0.5,
y = 0.5,
labels = paste(as.character(summ.table.financiadores[1]), "Financiamentos", sep = "\n"),
cex = 1.6,
col = "white"
)
plot_grid(p1)
colnames(summ.table.financiadores)[1]
colnames(summ.table.financiadores)
names(summ.table.financiadores)
summ.table.financiadores
summ.table.financiadores <- matrix(0, nrow = 1, ncol = 4)
colnames(summ.table.financiadores) <-
cbind("Projetos Financiados",
"Média Anual",
"Menor Financiamento",
"Maior Financiamento")
options(knitr.kable.NA = '--', knitr.table.format = "html")
financiadores.raw <-
read_excel("../PPGCR Unisuam/financiadores.xlsx", sheet = "financiadores")
# select variables to display
financiadores <-
financiadores.raw %>% select("Ano", "Agência", "Programa", "Total", "Proponente")
# drop rows with empty cells
financiadores <- financiadores[complete.cases(financiadores),]
# generate cross-table
N.editais.agencia.ano <-
table(financiadores$'Agência', financiadores$'Ano')
N.editais.agencia.ano <-
N.editais.agencia.ano[, order(colnames(N.editais.agencia.ano), decreasing = FALSE)]
# get all 'agencias'
agencias <-
na.exclude(rownames(N.editais.agencia.ano))
# plot area setup
par(
oma = c(2, 0.1, 2, 0.1),
mar = c(5, 4, 2, 2),
bg = '#2C3E50',
col.lab = "white",
col.axis = "white",
fg = "white",
col.main = "white"
)
# generate plot of financiadores per agency by year (absolute frequency)
barplot(N.editais.agencia.ano,
ylab = "N",
col = brewer.pal(n = length(agencias), name = "Set3"))
title(main = "Editais Financiados por Agência",
outer = TRUE,
cex.main = 1.7)
legend(
"topright",
legend = agencias,
fill = brewer.pal(n = length(agencias), name = "Set3"),
text.col = "white",
box.lwd = 0,
bty = "n",
horiz = FALSE,
cex = 0.5,
)
# generate cross-table
T.editais.agencia.ano <-
with(financiadores, tapply(
financiadores$Total,
list(financiadores$'Agência', financiadores$'Ano'),
FUN = sum
))
# add zero to not available values
T.editais.agencia.ano[is.na(T.editais.agencia.ano)] <- 0
T.editais.agencia.ano <-
T.editais.agencia.ano[, order(colnames(T.editais.agencia.ano), decreasing = FALSE)]
# em milhares
T.editais.agencia.ano <- T.editais.agencia.ano / 1000
# get all 'agencias'
agencias <-
na.exclude(rownames(T.editais.agencia.ano))
# plot area setup
par(
oma = c(2, 0.1, 2, 0.1),
mar = c(5, 4, 2, 2),
bg = '#2C3E50',
col.lab = "white",
col.axis = "white",
fg = "white",
col.main = "white"
)
# generate plot of financiadores per agency by year (absolute frequency)
barplot(T.editais.agencia.ano,
ylab = "R$, em milhares",
col = brewer.pal(n = length(agencias), name = "Set3"))
title(main = "Valores Financiados por Agência",
outer = TRUE,
cex.main = 1.7)
legend(
"topright",
legend = agencias,
fill = brewer.pal(n = length(agencias), name = "Set3"),
text.col = "white",
box.lwd = 0,
bty = "n",
horiz = FALSE,
cex = 0.5,
)
# generate cross-table
professores.ano <-
rowSums(table(financiadores$Ano, financiadores$Proponente) != 0)
# plot area setup
par(
oma = c(2, 0.1, 2, 0.1),
mar = c(5, 4, 2, 2),
bg = '#2C3E50',
col.lab = "white",
col.axis = "white",
fg = "white",
col.main = "white"
)
# generate plot of financiadores per agency by year (absolute frequency)
barplot(professores.ano,
ylab = "N",
col = rep(brewer.pal(n = 9, name = "Set3")[1], length(professores.ano)))
title(main = "Docentes com Financiamento",
outer = TRUE,
cex.main = 1.7)
summ.table.financiadores <- matrix(0, nrow = 1, ncol = 4)
summ.table.financiadores <-
cbind(
length(financiadores$Total),
mean(financiadores$Total, na.rm = TRUE),
min(financiadores$Total, na.rm = TRUE),
max(financiadores$Total, na.rm = TRUE)
)
colnames(summ.table.financiadores) <-
cbind("Projetos Financiados",
"Média Anual",
"Menor Financiamento",
"Maior Financiamento")
# plot area setup
par(oma = c(0, 0, 0, 0),
mar = c(0, 0, 0, 0),
bg = '#2C3E50')
p1 <-
plot(
c(0, 1),
c(0, 1),
ann = F,
bty = 'n',
type = 'n',
xaxt = 'n',
yaxt = 'n'
) %>%
text(
x = 0.5,
y = 0.66,
labels = as.character(summ.table.financiadores[1]),
cex = 10,
col = brewer.pal(n = 3, name = "Set3")[1]
) %>%
text(
x = 0.5,
y = 0.33,
labels = colnames(summ.table.financiadores)[1],
cex = 4,
col = brewer.pal(n = 3, name = "Set3")[2]
)
box(lty = "solid", lwd = 30, col = brewer.pal(n = 3, name = "Set3")[3])
plot_grid(NULL, p1, NULL, p1, p1, p1,
ncol = 3,
byrow = TRUE
)
plot_grid(NULL, p1, NULL, p1, p1, p1,
ncol = 3,
byrow = TRUE
)
plot_grid(p1, p1, p1, p1,
ncol = 2,
byrow = TRUE
)
p1 <-
plot(
c(0, 1),
c(0, 1),
ann = F,
bty = 'n',
type = 'n',
xaxt = 'n',
yaxt = 'n'
) %>%
text(
x = 0.5,
y = 0.66,
labels = as.character(summ.table.financiadores[1]),
cex = 10,
col = brewer.pal(n = 3, name = "Set3")[1]
) %>%
text(
x = 0.5,
y = 0.33,
labels = colnames(summ.table.financiadores)[1],
cex = 4,
col = brewer.pal(n = 3, name = "Set3")[2]
)
box(lty = "solid", lwd = 30, col = brewer.pal(n = 3, name = "Set3")[3])
p1 <-
plot(
c(0, 1),
c(0, 1),
ann = F,
bty = 'n',
type = 'n',
xaxt = 'n',
yaxt = 'n'
) %>%
text(
x = 0.5,
y = 0.66,
labels = as.character(summ.table.financiadores[1]),
cex = 10,
col = brewer.pal(n = 3, name = "Set3")[1]
) %>%
text(
x = 0.5,
y = 0.33,
labels = colnames(summ.table.financiadores)[1],
cex = 4,
col = brewer.pal(n = 3, name = "Set3")[2]
) %>%
box(lty = "solid", lwd = 30, col = brewer.pal(n = 3, name = "Set3")[3])
options(knitr.kable.NA = '--', knitr.table.format = "html")
financiadores.raw <-
read_excel("../PPGCR Unisuam/financiadores.xlsx", sheet = "financiadores")
# select variables to display
financiadores <-
financiadores.raw %>% select("Ano", "Agência", "Programa", "Total", "Proponente")
# drop rows with empty cells
financiadores <- financiadores[complete.cases(financiadores),]
# generate cross-table
N.editais.agencia.ano <-
table(financiadores$'Agência', financiadores$'Ano')
N.editais.agencia.ano <-
N.editais.agencia.ano[, order(colnames(N.editais.agencia.ano), decreasing = FALSE)]
# get all 'agencias'
agencias <-
na.exclude(rownames(N.editais.agencia.ano))
# plot area setup
par(
oma = c(2, 0.1, 2, 0.1),
mar = c(5, 4, 2, 2),
bg = '#2C3E50',
col.lab = "white",
col.axis = "white",
fg = "white",
col.main = "white"
)
# generate plot of financiadores per agency by year (absolute frequency)
barplot(N.editais.agencia.ano,
ylab = "N",
col = brewer.pal(n = length(agencias), name = "Set3"))
title(main = "Editais Financiados por Agência",
outer = TRUE,
cex.main = 1.7)
legend(
"topright",
legend = agencias,
fill = brewer.pal(n = length(agencias), name = "Set3"),
text.col = "white",
box.lwd = 0,
bty = "n",
horiz = FALSE,
cex = 0.5,
)
# generate cross-table
T.editais.agencia.ano <-
with(financiadores, tapply(
financiadores$Total,
list(financiadores$'Agência', financiadores$'Ano'),
FUN = sum
))
# add zero to not available values
T.editais.agencia.ano[is.na(T.editais.agencia.ano)] <- 0
T.editais.agencia.ano <-
T.editais.agencia.ano[, order(colnames(T.editais.agencia.ano), decreasing = FALSE)]
# em milhares
T.editais.agencia.ano <- T.editais.agencia.ano / 1000
# get all 'agencias'
agencias <-
na.exclude(rownames(T.editais.agencia.ano))
# plot area setup
par(
oma = c(2, 0.1, 2, 0.1),
mar = c(5, 4, 2, 2),
bg = '#2C3E50',
col.lab = "white",
col.axis = "white",
fg = "white",
col.main = "white"
)
# generate plot of financiadores per agency by year (absolute frequency)
barplot(T.editais.agencia.ano,
ylab = "R$, em milhares",
col = brewer.pal(n = length(agencias), name = "Set3"))
title(main = "Valores Financiados por Agência",
outer = TRUE,
cex.main = 1.7)
legend(
"topright",
legend = agencias,
fill = brewer.pal(n = length(agencias), name = "Set3"),
text.col = "white",
box.lwd = 0,
bty = "n",
horiz = FALSE,
cex = 0.5,
)
# generate cross-table
professores.ano <-
rowSums(table(financiadores$Ano, financiadores$Proponente) != 0)
# plot area setup
par(
oma = c(2, 0.1, 2, 0.1),
mar = c(5, 4, 2, 2),
bg = '#2C3E50',
col.lab = "white",
col.axis = "white",
fg = "white",
col.main = "white"
)
# generate plot of financiadores per agency by year (absolute frequency)
barplot(professores.ano,
ylab = "N",
col = rep(brewer.pal(n = 9, name = "Set3")[1], length(professores.ano)))
title(main = "Docentes com Financiamento",
outer = TRUE,
cex.main = 1.7)
summ.table.financiadores <- matrix(0, nrow = 1, ncol = 4)
summ.table.financiadores <-
cbind(
length(financiadores$Total),
mean(financiadores$Total, na.rm = TRUE),
min(financiadores$Total, na.rm = TRUE),
max(financiadores$Total, na.rm = TRUE)
)
colnames(summ.table.financiadores) <-
cbind("Projetos Financiados",
"Média Anual",
"Menor Financiamento",
"Maior Financiamento")
# plot area setup
par(oma = c(0, 0, 0, 0),
mar = c(0, 0, 0, 0),
bg = '#2C3E50')
p1 <-
plot(
c(0, 1),
c(0, 1),
ann = F,
bty = 'n',
type = 'n',
xaxt = 'n',
yaxt = 'n'
) %>%
text(
x = 0.5,
y = 0.66,
labels = as.character(summ.table.financiadores[1]),
cex = 10,
col = brewer.pal(n = 3, name = "Set3")[1]
) %>%
text(
x = 0.5,
y = 0.33,
labels = colnames(summ.table.financiadores)[1],
cex = 4,
col = brewer.pal(n = 3, name = "Set3")[2]
) %>%
box(lty = "solid", lwd = 30, col = brewer.pal(n = 3, name = "Set3")[3])
brewer.pal(n = 9, name = "Set3")[3]
brewer.pal(n = 3, name = "Set3")[3]
