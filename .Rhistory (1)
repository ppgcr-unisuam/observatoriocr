options(knitr.kable.NA = '--', knitr.table.format = "html")
# read SCImago csv file (download from https://www.scimagojr.com)
scimago <-
read.csv(
"SJR/scimagojr 2020.csv",
header = TRUE,
sep = ";",
quote = "\"",
dec = ",",
fill = TRUE
)
# read QUALIS xlsx file (download from https://www.scimagojr.com)
qualis <-
data.frame(read_excel(
"Qualis/QUALIS Referência 2017-2018.xlsx",
sheet = 1,
col_types = c("text")
))
# read data
artigos <-
data.frame(read_excel(
"../PPGCR Unisuam/Produção.xlsx",
sheet = "PI.artigos",
col_types = c("text")
))
# read data
resumos <-
data.frame(read_excel(
"../PPGCR Unisuam/Produção.xlsx",
sheet = "PI.tecnica",
col_types = c("text")
))
# bind papers and letters/abstracts (all with DOI)
artigos <- rbind(artigos[, 1:11], resumos[, 1:11])
# Data cleaning
artigos <- artigos[complete.cases(artigos$DOI),]
artigos$WebQualis[artigos$WebQualis == "Sem WebQualis"] <- "NA"
# remove os aceitos e submetidos
artigos <-
artigos[artigos$Publicado.em != "Aceito" &
artigos$Publicado.em != "Submetido", ]
# estratos Qualis
estratos <- sort(unique(artigos$WebQualis))
# SJR
SJR <- c()
for (i in 1:dim(artigos)[1]) {
SJR.i <-
as.numeric(scimago[grep(gsub("-", "", artigos$ISSN[i]), scimago$Issn), 6])
SJR <-
c(SJR, ifelse(identical(SJR.i, numeric(0)) |
all(is.na(SJR.i)), NA, SJR.i))
}
for (i in 1:dim(artigos)[1]) {
SJR.i <-
as.numeric(scimago[grep(gsub("-", "", artigos$ISSN[i]), scimago$Issn), 6])
SJR <-
c(SJR, ifelse(identical(SJR.i, numeric(0)) |
all(is.na(SJR.i)), NA, SJR.i))
}
# generate cross tables of artigos per year
table.1 <- table(artigos$Publicado.em)
table.2 <- t(table(artigos$Publicado.em, artigos$WebQualis))
table.2 <- apply(table.2, 2, rev)
table.2 <- table.2[order(rownames(table.2)),]
table.2
table.3 <- data.frame(artigos$Publicado.em, SJR)
table.3.median <-
aggregate(
table.3,
by = list(artigos$Publicado.em),
FUN = median,
na.rm = TRUE
)
table.3.median <- t(as.matrix(table.3.median[, -2]))
table.2 <- t(table(artigos$Publicado.em, artigos$WebQualis))
table.2 <- apply(table.2, 2, rev)
table.2 <- table.2[order(rownames(table.2)),]
table.3 <- data.frame(artigos$Publicado.em, SJR)
table.3.median <-
aggregate(
table.3,
by = list(artigos$Publicado.em),
FUN = median,
na.rm = TRUE
)
table.3.median <- t(as.matrix(table.3.median[, -2]))
table.3.median <- as.numeric(table.3.median[-1,])
names(table.3.median) <- names(table.1)
# calculate summary statistics for producao
summ.table.producao <-
cbind(
sum(table.1),
formatC(
min(table.1, na.rm = TRUE),
format = "d",
digits = 0,
big.mark = "."
),
formatC(
median(table.1, na.rm = TRUE),
format = "d",
digits = 0,
big.mark = "."
),
formatC(
max(table.1, na.rm = TRUE),
format = "d",
digits = 0,
big.mark = "."
),
formatC(
min(SJR, na.rm = TRUE),
format = "f",
digits = 3,
big.mark = "."
),
formatC(
median(SJR, na.rm = TRUE),
format = "f",
digits = 3,
big.mark = "."
),
formatC(
max(SJR, na.rm = TRUE),
format = "f",
digits = 3,
big.mark = "."
),
paste0(
formatC(
sum(table.2[1:4, ]) / sum(table.2) * 100,
format = "d",
digits = 0,
big.mark = "."
),
"%"
),
paste0(
formatC(
sum(table.2[5:8, ]) / sum(table.2) * 100,
format = "d",
digits = 0,
big.mark = "."
),
"%"
),
paste0(
formatC(
sum(table.2[9:10, ]) / sum(table.2) * 100,
format = "d",
digits = 0,
big.mark = "."
),
"%"
)
)
table.2
table.2
# read SCImago csv file (download from https://www.scimagojr.com)
scimago <-
read.csv(
"SJR/scimagojr 2020.csv",
header = TRUE,
sep = ";",
quote = "\"",
dec = ",",
fill = TRUE
)
# read QUALIS xlsx file (download from https://www.scimagojr.com)
qualis <-
data.frame(read_excel(
"Qualis/QUALIS Referência 2017-2018.xlsx",
sheet = 1,
col_types = c("text")
))
# read data
artigos <-
data.frame(read_excel(
"../PPGCR Unisuam/Produção.xlsx",
sheet = "PI.artigos",
col_types = c("text")
))
# read data
resumos <-
data.frame(read_excel(
"../PPGCR Unisuam/Produção.xlsx",
sheet = "PI.tecnica",
col_types = c("text")
))
# bind papers and letters/abstracts (all with DOI)
artigos <- rbind(artigos[, 1:11], resumos[, 1:11])
# Data cleaning
artigos <- artigos[complete.cases(artigos$DOI),]
artigos$WebQualis[artigos$WebQualis == "Sem WebQualis"] <- "NA"
# remove os aceitos e submetidos
artigos <-
artigos[artigos$Publicado.em != "Aceito" &
artigos$Publicado.em != "Submetido", ]
# estratos Qualis
estratos <- sort(unique(artigos$WebQualis))
# SJR
SJR <- c()
for (i in 1:dim(artigos)[1]) {
SJR.i <-
as.numeric(scimago[grep(gsub("-", "", artigos$ISSN[i]), scimago$Issn), 6])
SJR <-
c(SJR, ifelse(identical(SJR.i, numeric(0)) |
all(is.na(SJR.i)), NA, SJR.i))
}
# generate cross tables of artigos per year
table.1 <- table(artigos$Publicado.em)
table.2 <- t(table(artigos$Publicado.em, artigos$WebQualis))
table.2 <- apply(table.2, 2, rev)
table.2 <- table.2[order(rownames(table.2)),]
table.2
install.packages(c("caret", "commonmark", "conquer", "crayon", "datawizard", "desc", "fansi", "knitr", "maptools", "MASS", "Matrix", "nlme", "openssl", "plyr", "processx", "Rcpp", "rlang", "rmarkdown", "sass", "sf", "survival", "uuid", "waldo", "withr", "xfun"))
install.packages(c("caret", "commonmark", "conquer", "crayon", "datawizard", "desc", "fansi", "knitr", "maptools", "MASS", "Matrix", "nlme", "openssl", "plyr", "processx", "Rcpp", "rlang", "rmarkdown", "sass", "sf", "survival", "uuid", "waldo", "withr", "xfun"))
install.packages(c("nlme", "Rcpp", "sf"))
install.packages(c("nlme", "sf"))
install.packages("nlme")
install.packages(c("nlme", "sf"))
install.packages("sf")
