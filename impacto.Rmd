---
title: Impacto

output:
  html_document:
    toc: true
---

<!--install and/or load all R packages-->
```{r setup, include = FALSE, echo = FALSE, warning = FALSE, message = FALSE}
source("Scripts/all-required-packages.R")
```

<!--read additional files-->
```{r scimago-qualis, include = FALSE, echo = FALSE, warning = FALSE, message = FALSE}
# read SCImago csv file (download from https://www.scimagojr.com)
scimago <-
  read.csv(
    "SJR/scimagojr 2020.csv",
    header = TRUE,
    sep = ";",
    quote = "\"",
    dec = ",",
    fill = TRUE
  )

# read QUALIS xlsx file (download from https://www.scimagojr.com)
qualis <-
  data.frame(read_excel(
    "Qualis/QUALIS Referência 2017-2018.xlsx",
    sheet = 1,
    col_types = c("text")
  ))
```

<!--script for computer/mobile devices-->
```{css, echo=FALSE}
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    body .main-container {
      max-width: 1280px !important;
      width: 80%;
      margin: auto;
      }
    body {
      max-width: 1280px !important;
      width: 80%;
      margin: auto;
    }
      section {
      position: absolute;
      top: 50%;
      left: 50%;
      margin-right: -50%;
      transform: translate(-50%, -50%)
    }
```

<!--script for generating ALTMETRIC badges-->
<script type='text/javascript' src='https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js'></script>

<!--script for generating multiple DIMENSIONS badges-->
<script async src="https://badge.dimensions.ai/badge.js" charset="utf-8"></script>

<!--script for generating multiple PLUMX badges-->
<script type="text/javascript" src="//cdn.plu.mx/widget-all.js"></script>

<!--script for narrow margins-->
<style type="text/css">
div.main-container {
  max-width: 1800px;
  margin-left: auto;
  margin-right: auto;
}
</style>

<!--script for inserting LOGO ABOVE THE TOC-->
<script>
  $(document).ready(function() {
    $('#TOC').parent().prepend('<div id=\"nav_logo\"><img src="Images/logo-programa.png"></div>');
  });
</script>
<style>
#nav_logo {
  width: 100%;
  margin-top: 20px;
}
</style>

<br>

<!--script for sharing-->
<p align="right">
```{r share, echo = FALSE, warning = FALSE, message = FALSE, fig.align = 'center', results = "asis"}
home <- "rehab-tech.github.io/observatoriocr/"
source("Scripts/social-media-sharing.R")
```
</p>

<br>

## **Impacto educacional** {#impacto-educacional}

<!--script for generating HORIZONTAL LINE-->
<hr style="height:2px;border-width:0;color:#2C3E50;background-color:#2C3E50">

### **Organização de eventos** {.tabset}

<br>

#### **Semana de Pesquisa, Extensão e Inovação** {.tabset}

##### **2021**

<div class="sizer" text-align:"center">
  <div class="embed-responsive embed-responsive-16by9">
    <iframe class="embed-responsive-item" src="https://hotsite.unisuam.edu.br/xviiispe/index.php" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </div>
</div>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

<div class="sizer" text-align:"center">
  <div class="embed-responsive embed-responsive-16by9">
    <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/sBn1gOF8Atg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </div>
</div>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>


#### **Seminários**

<br>

<div class="sizer" text-align:"center">
  <div class="embed-responsive embed-responsive-16by9">
    <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/oCiy3mVQzwc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </div>
</div>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

#### **Simpósio Paradesportivo Carioca**

<br>

<div class="sizer" text-align:"center">
  <div class="embed-responsive embed-responsive-16by9">
    <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/1O_S0kEW9Rk" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </div>
</div>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

<div class="sizer" text-align:"center">
  <div class="embed-responsive embed-responsive-16by9">
    <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/i_PZ-Bgy1dE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </div>
</div>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

#### **Internacionais**

<br>

<div class="sizer" text-align:"center">
  <div class="embed-responsive embed-responsive-16by9">
    <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/WmHL5xColOU" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </div>
</div>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

<div class="sizer" text-align:"center">
  <div class="embed-responsive embed-responsive-16by9">
    <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/dd994Nj-HF4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </div>
</div>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

<div class="sizer" text-align:"center">
  <div class="embed-responsive embed-responsive-16by9">
    <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/LCwWYpWo6fs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </div>
</div>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

<div class="sizer" text-align:"center">
  <div class="embed-responsive embed-responsive-16by9">
    <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/cS0fTOzBtPg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </div>
</div>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

<div class="sizer" text-align:"center">
  <div class="embed-responsive embed-responsive-16by9">
    <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/9NqqtmxrDzs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </div>
</div>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

<div class="sizer" text-align:"center">
  <div class="embed-responsive embed-responsive-16by9">
    <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/g3UPrMRnuWw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </div>
</div>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

## **Impacto científico** {#impacto-cientifico}

<!--script for generating HORIZONTAL LINE-->
<hr style="height:2px;border-width:0;color:#2C3E50;background-color:#2C3E50">

<br>

### **Periódicos institucionais**

<iframe src="https://revistas.unisuam.edu.br" style="width:100%; height:600px; border:0;"></iframe>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

### **Comitê de ética em pesquisa** {.tabset}

<br>

#### **Resoluções e normativas CNS**

<iframe src="http://conselho.saude.gov.br/o-que-e-rss/92-comissoes/conep/normativas-conep/642-lista-de-resolucoes-conep" style="width:100%; height:600px; border:0;"></iframe>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

#### **Plataforma Brasil CONEP**

<iframe src="https://plataformabrasil.saude.gov.br/login.jsf" style="width:100%; height:600px; border:0;"></iframe>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

#### **CEP-UNISUAM** {#CEP .tabset}

<p align="center">
[<img align="center" src="Images/logo-cep.png">](https://www.unisuam.edu.br/pesquisa-e-inovacao/){target="_blank"}
</p>

<br>

##### **Documentos vigentes**

```{r cep-vigentes, echo = FALSE, warning = FALSE, message = FALSE, fig.align='center', results = "asis"}
options(knitr.kable.NA = '--', knitr.table.format = "html")

# read packages





# read separate sheets
vigentes.raw <- read_excel("../PPGCR Unisuam/CEP-UNISUAM.xlsx", sheet = "Vigentes", col_types = c("text"))

# replace the link by a tag
for(i in 1:dim(vigentes.raw)[1]){
  vigentes.raw[i,3] <- paste("[↗️](", vigentes.raw[i,3], '){target="_blank"}', sep = "")
}

# print table
print(kable(vigentes.raw, align = c("l", rep("c", ncol(vigentes.raw)-2), "r")) %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = T, position = "center"))

```

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

##### **Documentos revogados**

```{r cep-revogados, echo = FALSE, warning = FALSE, message = FALSE, fig.align='center', results = "asis"}
options(knitr.kable.NA = '--', knitr.table.format = "html")

# read packages





# read separate sheets
revogados.raw <- read_excel("../PPGCR Unisuam/CEP-UNISUAM.xlsx", sheet = "Revogados", col_types = c("text"))

# replace the link by a tag
for(i in 1:dim(revogados.raw)[1]){
  revogados.raw[i,3] <- paste("[↗️](", revogados.raw[i,3], '){target="_blank"}', sep = "")
}

# print table
print(kable(revogados.raw, align = c("l", rep("c", ncol(revogados.raw)-2), "r")) %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = T, position = "center"))

```

<br>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

## **Impacto sociocultural** {#impacto-sociocultural}

<!--script for generating HORIZONTAL LINE-->
<hr style="height:2px;border-width:0;color:#2C3E50;background-color:#2C3E50">

<br>

### **Bolsas**

*Em construção*

<br>

*Fontes:* [**Transparência CAPES**](http://transparencia.capes.gov.br/transparencia/xhtml/index.faces), [**SCBA**](https://scba.capes.gov.br)

<br>

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

## **Impacto tecnológico/econômico** {#impacto-tecnologico}

<!--script for generating HORIZONTAL LINE-->
<hr style="height:2px;border-width:0;color:#2C3E50;background-color:#2C3E50">

*Em construção!*

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

## **Ações durante a pandemia** {#acoes-pandemia}

<!--script for generating HORIZONTAL LINE-->
<hr style="height:2px;border-width:0;color:#2C3E50;background-color:#2C3E50">

```{r pandemia-termos, echo = FALSE, warning = FALSE, message = FALSE, fig.align = 'center', results = "asis"}
options(knitr.kable.NA = '--', knitr.table.format = "html")
pandemia <- c("2019-nCoV", "2019 Novel Coronavirus", "COVID-19", "COVID 2019", "COVID19", "SARS-CoV-2", "SARSCoV-2", "SARSCoV2", "COVID", "Novo Coronavirus", "long COVID", "COVID longa", "pós-COVID", "post-COVID", "postCOVID", "coronavirus disease 2019", "doença do coronavirus 2019", "severe acute respiratory syndrome coronavirus 2", "nCoV", "19nCoV")
```

### **Projetos de pesquisa**

```{r pandemia-projetos, echo = FALSE, warning = FALSE, message = FALSE, fig.align = 'center', results = "asis"}
options(knitr.kable.NA = '--', knitr.table.format = "html")

# projetos - membros
sheet <- "Projetos - Membros"
source("Scripts/read-xlsx-sucupira.R")

# get years
source("Scripts/years-sucupira.R")
names(sucupira.list) <- as.character(anos)

periodos <- names(sucupira.list)
periodo <- as.character(seq(min(periodos), max(periodos)))
projetos.all <- do.call(rbind.data.frame, sucupira.list[periodos])
projetos.all <- unique(projetos.all[projetos.all$`Membro Responsável`== "Sim", ])

# selecting those with COVID in the title
projetos <- projetos.all[grep(paste(tolower(pandemia), collapse = "|"), tolower(projetos.all$`Nome do Projeto de Pesquisa`)), ]

if(dim(projetos)[1] != 0){
  # select data DOCENTES
  table.projetos <-
    cbind(
      projetos$`Nome do Membro do Projeto`,
      projetos$`Nome do Projeto de Pesquisa`,
      projetos$`Linha de Pesquisa`
    )
  table.projetos <- table.projetos[order(table.projetos[, 1]),]
  # print tables
  table.projetos[, 1] <-
    as.vector(unlist(lapply(table.projetos[, 1], FUN = str_to_upper)))
  table.projetos[, 2] <-
    as.vector(unlist(lapply(table.projetos[, 2], FUN = str_to_sentence)))
  table.projetos[, 3] <-
    as.vector(unlist(lapply(table.projetos[, 3], FUN = str_to_title)))
  
  colnames(table.projetos) <-
    c("Nome do Membro Responsável",
      "Nome do Projeto de Pesquisa",
      "Linha de Pesquisa")
  datatable(
    table.projetos,
    rownames = FALSE,
    options = list(
      pageLength = 5,
      scrolX = F,
      dom = 'ftip',
      searchHighlight = TRUE
    ),
    escape = FALSE
  )
} else {
  cat('\n\n')
  cat('*Sem produção para exibir no período*')
  cat('\n\n')
}
```

*Fontes:* [**Plataforma Sucupira**](https://sucupira.capes.gov.br/sucupira/)

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

### **Financiadores**

```{r pandemia-financiadores, echo = FALSE, warning = FALSE, message = FALSE, fig.align = 'center', results = "asis"}
options(knitr.kable.NA = '--', knitr.table.format = "html")

financiadores.raw <-
  read_excel("../PPGCR Unisuam/Financiadores.xlsx", sheet = "financiadores")

financiadores.sub <-
  financiadores.raw %>% select("Ano",
                               "Agência",
                               "Edital",
                               "Processo No.",
                               "Título do projeto",
                               "Programa")
fonte.sub <- financiadores.raw %>% select("Fonte")

financiadores <-
  financiadores.sub[complete.cases(financiadores.sub), ]
fonte <- fonte.sub[complete.cases(financiadores.sub), ]

# selecting those with COVID in the title
financiadores <-
  financiadores[grep(paste(tolower(pandemia), collapse = "|"), tolower(financiadores$`Título do projeto`)), ]
fonte <-
  fonte[grep(paste(tolower(pandemia), collapse = "|"), tolower(financiadores$`Título do projeto`)), ]

if(dim(financiadores)[1] != 0) {
  Abrir <- matrix(NA, nrow = dim(financiadores)[1])
  colnames(Abrir) <- "Abrir"
  # add hyperlinks
  for (i in 1:dim(fonte)[1]) {
    if (!is.na(fonte[i, 1])) {
      Abrir[i] <-
        paste0('<a href="', fonte[i, 1], '" target="_blank"', '>', '↗️' , '</a>')
    }
  }
  
  financiadores <- cbind(financiadores, Abrir)
  financiadores <-
    financiadores[order(financiadores$Ano, decreasing = TRUE),]
  
  datatable(
    financiadores,
    rownames = FALSE,
    options = list(
      pageLength = 5,
      scrolX = F,
      dom = 'ftip',
      searchHighlight = TRUE
    ),
    escape = FALSE
  )
} else {
  cat('\n\n')
  cat('*Sem produção para exibir no período*')
  cat('\n\n')
}
```

*Fontes:* [**CAPES**](https://www.gov.br/capes/pt-br), [**CNPq**](https://www.gov.br/cnpq/pt-br), [**FAPERJ**](http://www.faperj.br), **UNISUAM**

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

### **Trabalhos de conclusão de curso**

```{r pandemia-tcc, echo = FALSE, warning = FALSE, message = FALSE, fig.align = 'center', results = "asis"}
options(knitr.kable.NA = '--', knitr.table.format = "html")

# tcc
sheet <- "TCC"
source("Scripts/read-xlsx-sucupira.R")

# get years
source("Scripts/years-sucupira.R")
names(sucupira.list) <- as.character(anos)

periodos <- names(sucupira.list)
periodo <- as.character(seq(min(periodos), max(periodos)))
tcc.all <- do.call(rbind.data.frame, sucupira.list[periodos])

# selecting those with COVID in the title
tccs <- tcc.all[grep(paste(tolower(pandemia), collapse = "|"), tolower(tcc.all$`Nome do Trabalho de Conclusão`)), ]

if(dim(tccs)[1] != 0) {
  # select data
  table.tcc <-
    cbind(
      format((as.Date(
        gsub("/", "-", tccs$'Data da Defesa'), "%d-%d-%Y"
      )), "%Y"),
      tccs$`Tipo de Trabalho de Conclusão`,
      tccs$`Nome do Trabalho de Conclusão`,
      tccs$`Nome do Autor`,
      tccs$`Nome do Orientador`
    )
  table.tcc <-
    table.tcc[order(table.tcc[, 1], table.tcc[, 2], table.tcc[, 3]),]
  
  # print tables
  table.tcc[, 2] <-
    as.vector(unlist(lapply(table.tcc[, 2], FUN = str_to_title)))
  table.tcc[, 3] <-
    as.vector(unlist(lapply(table.tcc[, 3], FUN = str_to_title)))
  table.tcc[, 4] <-
    as.vector(unlist(lapply(table.tcc[, 4], FUN = str_to_title)))
  table.tcc[, 5] <-
    as.vector(unlist(lapply(table.tcc[, 5], FUN = str_to_title)))
  
  colnames(table.tcc) <-
    c("Ano", "Nível", "Título", "Autor", "Orientador")
  datatable(
    table.tcc,
    rownames = FALSE,
    options = list(
      pageLength = 5,
      scrolX = F,
      dom = 'ftip',
      searchHighlight = TRUE
    ),
    escape = FALSE
  )
} else {
  cat('\n\n')
  cat('*Sem produção para exibir no período*')
  cat('\n\n')
}
```

*Fontes:* [**Plataforma Sucupira**](https://sucupira.capes.gov.br/sucupira/)

<a style="float:right" href="#top"><b>Início &nbsp;</b>⬆️</a>

<br>

### **Artigos completos** {.tabset}

```{r pandemia-artigos-completos, echo = FALSE, warning = FALSE, message = FALSE, fig.align = 'center', results = "asis", out.width = "80%"}
options(knitr.kable.NA = '--', knitr.table.format = "html")

# Step 4. Read in a CSV file into a data frame with a bunch of dois listed in one column.
all.dois <-
  data.frame(read_excel(
    "../PPGCR Unisuam/Produção.xlsx",
    sheet = "PI.completos",
    col_types = c("text")
  ))

# Data cleaning
all.dois <- all.dois[complete.cases(all.dois$DOI),]

# selecting those with COVID in the title
all.dois <- all.dois[grep(paste(tolower(pandemia), collapse = "|"), tolower(all.dois$Título)), ]

if (dim(all.dois)[1] != 0) {
  # get years
  anos <- rev(unique(all.dois$Publicado.em))
  
  for (ano in 1:length(anos)) {
    # Filtra por período
    dois <-
      all.dois[as.character(all.dois$Publicado.em) == as.character(anos[ano]),]
    # print tab header
    cat('\n\n<!-- -->\n\n')
    cat("#### **", anos[ano], "**", "\n", sep = "")
    
    # Verifica se há DOIs no período
    if (dim(dois)[1] == 0) {
      cat('\n')
      cat('*Sem produção para exibir no período*')
      cat('\n')
    } else {
      # Step 5. Convert the doi column in your dataset to a list.
      dois_list <- as.list(dois$DOI)
      
      # cria metadados para rastreio pelo Altmetric
      dois_2_meta <- dois$DOI
      source("scripts/altmetric-meta-from-dois.R")
      
      # roda o script para obter dados do Altmetric
      source("scripts/altmetric-from-dois.R")
      
      # get data of papers without Altmetric from CrossRef
      if (is_empty(no_altmetric_dois_list)) {
        my_dois_works <- no_altmetric_dois_list
      } else {
        my_dois_works <-
          rcrossref::cr_works(dois = unlist(no_altmetric_dois_list)) %>%
          pluck("data")
        # sort columns by title
        if (length(my_dois_works) != 0) {
          my_dois_works <-
            my_dois_works[order(as.vector(my_dois_works$title)),]
        }
      }
      
      # print table of papers with/without badges
      source("scripts/papers-with-badges.R")
      table.with.badges(
        show.Altmetric = TRUE,
        show.Dimensions = TRUE,
        show.PlumX = TRUE,
        show.SJR = TRUE,
        show.Qualis = TRUE,
        doi_sort,
        my_dois_works,
        scimago,
        qualis
      )
    }
  }
} else {
  cat('\n\n')
  cat('*Sem produção para exibir no período*')
  cat('\n\n')
}
```

*Fontes:* [**SCImago**](https://www.scimagojr.com), [**WebQualis**](https://sucupira.capes.gov.br/sucupira/public/consultas/coleta/veiculoPublicacaoQualis/listaConsultaGeralPeriodicos.jsf), **UNISUAM**

<br>

### **Artigos resumos** {.tabset}

```{r pandemia-artigos-resumos, echo = FALSE, warning = FALSE, message = FALSE, fig.align = 'center', results = "asis", out.width = "80%"}
options(knitr.kable.NA = '--', knitr.table.format = "html")

# Step 4. Read in a CSV file into a data frame with a bunch of dois listed in one column.
all.dois <-
  data.frame(read_excel(
    "../PPGCR Unisuam/Produção.xlsx",
    sheet = "PI.resumos",
    col_types = c("text")
  ))

# Data cleaning
all.dois <- all.dois[complete.cases(all.dois$DOI),]

# selecting those with COVID in the title
all.dois <- all.dois[grep(paste(tolower(pandemia), collapse = "|"), tolower(all.dois$Título)), ]

if (dim(all.dois)[1] != 0) {
  # get years
  anos <- rev(unique(all.dois$Publicado.em))
  
  for (ano in 1:length(anos)) {
    # Filtra por período
    dois <-
      all.dois[as.character(all.dois$Publicado.em) == as.character(anos[ano]), ]
    # print tab header
    cat('\n\n<!-- -->\n\n')
    cat("#### **", anos[ano], "**", "\n", sep = "")
    
    # Verifica se há DOIs no período
    if (dim(dois)[1] == 0) {
      cat('\n')
      cat('*Sem produção para exibir no período*')
      cat('\n')
    } else {
      # Step 5. Convert the doi column in your dataset to a list.
      dois_list <- as.list(dois$DOI)
      
      # cria metadados para rastreio pelo Altmetric
      dois_2_meta <- dois$DOI
      source("scripts/altmetric-meta-from-dois.R")
      
      # roda o script para obter dados do Altmetric
      source("scripts/altmetric-from-dois.R")
      
      # get data of papers without Altmetric from CrossRef
      if (is_empty(no_altmetric_dois_list)) {
        my_dois_works <- no_altmetric_dois_list
      } else {
        my_dois_works <-
          rcrossref::cr_works(dois = unlist(no_altmetric_dois_list)) %>%
          pluck("data")
        # sort columns by title
        if (length(my_dois_works) != 0) {
          my_dois_works <-
            my_dois_works[order(as.vector(my_dois_works$title)), ]
        }
      }
      
      # print table of papers with/without badges
      source("scripts/papers-with-badges.R")
      table.with.badges(
        show.Altmetric = TRUE,
        show.Dimensions = TRUE,
        show.PlumX = TRUE,
        show.SJR = TRUE,
        show.Qualis = TRUE,
        doi_sort,
        my_dois_works,
        scimago,
        qualis
      )
    }
  }
} else {
  cat('\n\n')
  cat('*Sem produção para exibir no período*')
  cat('\n\n')
}
```

*Fontes:* [**SCImago**](https://www.scimagojr.com), [**WebQualis**](https://sucupira.capes.gov.br/sucupira/public/consultas/coleta/veiculoPublicacaoQualis/listaConsultaGeralPeriodicos.jsf), **UNISUAM**

<br>

### **Trabalhos em anais de eventos** {.tabset}

```{r pandemia-resumos-eventos, echo = FALSE, warning = FALSE, message = FALSE, fig.align = 'center', results = "asis", out.width = "80%"}
options(knitr.kable.NA = '--', knitr.table.format = "html")

# Step 4. Read in a CSV file into a data frame with a bunch of dois listed in one column.
all.dois <-
  data.frame(read_excel(
    "../PPGCR Unisuam/Produção.xlsx",
    sheet = "PI.eventos",
    col_types = c("text")
  ))

# Data cleaning
all.dois <- all.dois[complete.cases(all.dois$DOI),]

# selecting those with COVID in the title
all.dois <- all.dois[grep(paste(tolower(pandemia), collapse = "|"), tolower(all.dois$Título)), ]

if (dim(all.dois)[1] != 0) {
  # get years
  anos <- rev(unique(all.dois$Publicado.em))
  
  for (ano in 1:length(anos)) {
    # Filtra por período
    dois <-
      all.dois[as.character(all.dois$Publicado.em) == as.character(anos[ano]), ]
    # print tab header
    cat('\n\n<!-- -->\n\n')
    cat("#### **", anos[ano], "**", "\n", sep = "")
    
    # Verifica se há DOIs no período
    if (dim(dois)[1] == 0) {
      cat('\n')
      cat('*Sem produção para exibir no período*')
      cat('\n')
    } else {
      # Step 5. Convert the doi column in your dataset to a list.
      dois_list <- as.list(dois$DOI)
      
      # cria metadados para rastreio pelo Altmetric
      dois_2_meta <- dois$DOI
      source("scripts/altmetric-meta-from-dois.R")
      
      # roda o script para obter dados do Altmetric
      source("scripts/altmetric-from-dois.R")
      
      # get data of papers without Altmetric from CrossRef
      if (is_empty(no_altmetric_dois_list)) {
        my_dois_works <- no_altmetric_dois_list
      } else {
        my_dois_works <-
          rcrossref::cr_works(dois = unlist(no_altmetric_dois_list)) %>%
          pluck("data")
        # sort columns by title
        if (length(my_dois_works) != 0) {
          my_dois_works <-
            my_dois_works[order(as.vector(my_dois_works$title)), ]
        }
      }
      
      # print table of papers with/without badges
      source("scripts/papers-with-badges.R")
      table.with.badges(
        show.Altmetric = TRUE,
        show.Dimensions = TRUE,
        show.PlumX = TRUE,
        show.SJR = TRUE,
        show.Qualis = TRUE,
        doi_sort,
        my_dois_works,
        scimago,
        qualis
      )
    }
  }
} else {
  cat('\n\n')
  cat('*Sem produção para exibir no período*')
  cat('\n\n')
}
```

*Fontes:* [**SCImago**](https://www.scimagojr.com), [**WebQualis**](https://sucupira.capes.gov.br/sucupira/public/consultas/coleta/veiculoPublicacaoQualis/listaConsultaGeralPeriodicos.jsf), **UNISUAM**

<br>
